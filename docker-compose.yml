services:
  app:
    build: .
    ports:
      - "8000:8000"
    env_file:
      - .env
    environment:
      - VENDING_DB_DIR=/app/data
    volumes:
      - agent-state:/app/state
    command: >
      uv run simple-agent
        --state-db /app/state/agent.db
        serve
        --host 0.0.0.0
        --port 8000

volumes:
  agent-state:
